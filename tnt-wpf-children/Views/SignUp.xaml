<Window x:Class="tnt_wpf_children.Views.SignUp"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:tnt_wpf_children"
    
        mc:Ignorable="d"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        FontSize="18" FontFamily="{DynamicResource MaterialDesignFont}" ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen" WindowStyle="None" AllowsTransparency="True" Background="Transparent" 
        Height="450" Width="600"
        >
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis"/>
    </Window.Resources>
    <Grid Margin="20" MouseDown="Grid_MouseDown">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="1.22*"/>
        </Grid.ColumnDefinitions>


        <Border CornerRadius="10 0 0 10" ClipToBounds="True">
            <Border.Background>
                <ImageBrush ImageSource="/Image/children.jpg" AlignmentX="Center" AlignmentY="Center" Stretch="UniformToFill"/>
            </Border.Background>
            <Grid>

                <StackPanel 
                    Margin="0 120 0 0" VerticalAlignment="Top">
                    <TextBlock FontSize="46" FontWeight="Bold" Foreground="Black" TextAlignment="Center"/>
                </StackPanel>
            </Grid>
        </Border>


        <Border Grid.Column="1" Background="#FFF5FCFF" CornerRadius="0 10 10 0" >
            <Grid>
                <StackPanel HorizontalAlignment="Right" Margin="0,5,5,0" Orientation="Horizontal" VerticalAlignment="Top">
                    <StackPanel.Resources>
                        <Style TargetType="Button" BasedOn="{StaticResource MaterialDesignIconButton}">
                            <Setter Property="Width" Value="30"/>
                            <Setter Property="Height" Value="30"/>
                        </Style>
                    </StackPanel.Resources>
                    <Button Foreground="Gray" Click="Minimize_Click">
                        <materialDesign:PackIcon Kind="WindowMinimize" />
                    </Button>
                    <Button Foreground="Red" Click="Close_Click">
                        <materialDesign:PackIcon Kind="CloseCircle" />
                    </Button>
                </StackPanel>

                <StackPanel x:Name="SignUpContainer" VerticalAlignment="Center" Margin="50 0 50 15">
                    <TextBox 
                        Text="{Binding Username}" 
                        BorderThickness="0 0 0 1.5" Padding="0 10" BorderBrush="#C5C8CC" MaxLength="20" 
                        materialDesign:HintAssist.FloatingOffset="0,-16" 
                        materialDesign:HintAssist.Hint="Tên đăng nhập"
                        materialDesign:HintAssist.HintOpacity="0.4"
                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                    <TextBlock Text="{Binding UsernameHelperText}" FontSize="11" Foreground="Red" Margin="0 0 35 0"/>

                    <PasswordBox x:Name="PasswdBox" Margin="0 20 0 0" Padding="0 10" 
                                 Background="Transparent" BorderThickness="0 0 0 1.5" BorderBrush="#C5C8CC" 
                                 materialDesign:HintAssist.FloatingOffset="0,-16"
                                 materialDesign:HintAssist.Hint="Mật khẩu" 
                                 materialDesign:HintAssist.HintOpacity="0.4" 
                                 materialDesign:TextFieldAssist.HasClearButton="True" 
                                 Style="{StaticResource MaterialDesignFilledRevealPasswordBox}" MaxLength="20" />
                    <TextBlock Text="{Binding PasswordHelperText}" FontSize="11" Foreground="Red" Margin="0 0 50 20"/>
                    <PasswordBox x:Name="Re_PasswdBox" Padding="0 10" 
                                 Background="Transparent" BorderThickness="0 0 0 1.5" BorderBrush="#C5C8CC" 
                                 materialDesign:HintAssist.FloatingOffset="0,-16" 
                                 materialDesign:HintAssist.Hint="Nhập lại mật khẩu" 
                                 materialDesign:HintAssist.HintOpacity="0.4" 
                                 materialDesign:TextFieldAssist.HasClearButton="True"
                                 Style="{StaticResource MaterialDesignFilledRevealPasswordBox}" MaxLength="20" />
                    <TextBlock Text="{Binding RePasswordHelperText}" FontSize="11" Foreground="Red" Margin="0 0 50 20"/>
                    <StackPanel Margin="0 10">
                        <Button Command="{Binding SignUpCmd}" 
                                CommandParameter="{Binding ElementName=SignUpContainer}" 
                                HorizontalAlignment="Center" Content="Đăng ký" FontSize="20" Height="45" Width="130" 
                                Style="{StaticResource MaterialDesignPaperLightButton}"></Button>
                    </StackPanel>
                </StackPanel>
                <WrapPanel Margin="0 20" VerticalAlignment="Bottom" HorizontalAlignment="Center" Orientation="Horizontal">
                    <TextBlock VerticalAlignment="Center" FontSize="12">Đã có tài khoản?</TextBlock>
                    <Button FontSize="12" Content="Đăng nhập" Click="Login_Click" Padding="5 0" Margin="10 0" 
                            Style="{StaticResource MaterialDesignPaperLightButton}"/>
                </WrapPanel>
                
            </Grid>
        </Border>
        <Grid Grid.ColumnSpan="2" 
              Visibility="{Binding IsBusy, Converter={StaticResource BoolToVis}}"
              Background="#80000000" IsHitTestVisible="True" Focusable="True">

            <StackPanel HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Orientation="Vertical">

                <!-- icon xoay -->
                <materialDesign:PackIcon HorizontalAlignment="Center"
                    Kind="Autorenew" Width="48" Height="48" Foreground="White"
                    RenderTransformOrigin="0.5,0.5"
                    Visibility="{Binding IsProcessing, Converter={StaticResource BoolToVis}}">

                    <materialDesign:PackIcon.RenderTransform>
                        <RotateTransform Angle="0"/>
                    </materialDesign:PackIcon.RenderTransform>

                    <materialDesign:PackIcon.Style>
                        <Style TargetType="materialDesign:PackIcon">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding IsProcessing}" Value="True">
                                    <DataTrigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard RepeatBehavior="Forever">
                                                <DoubleAnimation
                                            Storyboard.TargetProperty="(UIElement.RenderTransform).(RotateTransform.Angle)"
                                            From="0"
                                            To="360"
                                            Duration="0:0:1" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </DataTrigger.EnterActions>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </materialDesign:PackIcon.Style>

                </materialDesign:PackIcon>

                <!-- icon ok -->
                <materialDesign:PackIcon Kind="CheckCircle" Width="56" 
                    Height="56" Foreground="#4CAF50" HorizontalAlignment="Center"
                    Visibility="{Binding IsSuccess, Converter={StaticResource BoolToVis}}"/>

                <TextBlock Text="{Binding TBStatus}"
                   Foreground="White"
                   Margin="0,10,0,0"
                   FontSize="14"
                   HorizontalAlignment="Center"/>
            </StackPanel>
        </Grid>
        

    </Grid>
</Window>
