<Window x:Class="tnt_wpf_children.Views.CheckoutReceiptWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:local="clr-namespace:tnt_wpf_children"
        mc:Ignorable="d"
        Title="Phiếu nhận trẻ" Width="450"
        SizeToContent="Height" MinHeight="550" MaxHeight="900"
        WindowStyle="None" ResizeMode="NoResize"
        AllowsTransparency="True" Background="Transparent"
        WindowStartupLocation="CenterScreen">
    
    <Window.Resources>
        <local:NotEmptyToVisibilityConverter x:Key="NotEmptyToVisibility"/>
    </Window.Resources>
    
    <Border CornerRadius="10" Background="White" ClipToBounds="True">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="45"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="60"/>
            </Grid.RowDefinitions>

            <Border Grid.Row="0" Background="#1976D2" MouseDown="TitleBar_MouseDown">
                <Grid>
                    <TextBlock Text="PHIẾU NHẬN TRẺ" FontSize="16" FontWeight="Bold" 
                               Foreground="White" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                </Grid>
            </Border>

            <Border x:Name="PrintArea" Grid.Row="1" Margin="20" BorderBrush="#E0E0E0" BorderThickness="1" Padding="15">
                <StackPanel>
                    <TextBlock Text="TNT KIDS MALL" FontSize="18" FontWeight="Bold" 
                               HorizontalAlignment="Center" Foreground="#1976D2"/>
                    <TextBlock Text="Hotline: 1900 1234" FontStyle="Italic" 
           HorizontalAlignment="Center" Foreground="Gray" FontSize="13"/>
                    
                    <Separator Margin="0,5"/>

                    <TextBlock Text="THÔNG TIN KHÁCH HÀNG" FontWeight="SemiBold" 
                               Foreground="#424242" Margin="0,10,0,10"/>
                    
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Họ và tên:" Foreground="Gray"/>
                        <TextBlock Grid.Column="1" Text="{Binding CustomerName}" FontWeight="SemiBold"/>
                    </Grid>
                    
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Số điện thoại:" Foreground="Gray"/>
                        <TextBlock Grid.Column="1" Text="{Binding PhoneNumber}" FontWeight="SemiBold"/>
                    </Grid>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Ghi chú:" Foreground="Gray"/>
                        <TextBlock Grid.Column="1" Text="{Binding Note}" TextWrapping="Wrap"/>
                    </Grid>

                    <Separator Margin="0,10"/>

                    <TextBlock Text="THÔNG TIN PHIÊN GỬI" FontWeight="SemiBold" 
                               Foreground="#424242" Margin="0,10,0,10"/>
                    
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Số lượng trẻ:" Foreground="Gray"/>
                        <TextBlock Grid.Column="1" Text="{Binding NumberOfChildren}" FontWeight="SemiBold" Foreground="#4CAF50"/>
                    </Grid>
                    
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Thời gian gửi:" Foreground="Gray"/>
                        <TextBlock Grid.Column="1" Text="{Binding CheckinTime, StringFormat='dd/MM/yyyy HH:mm'}" FontWeight="SemiBold"/>
                    </Grid>
                    
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Thời gian nhận:" Foreground="Gray"/>
                        <TextBlock Grid.Column="1" Text="{Binding CheckoutTime, StringFormat='dd/MM/yyyy HH:mm'}" FontWeight="SemiBold" Foreground="#F44336"/>
                    </Grid>
                    

                    


                    <Separator Margin="0,15,0,10"/>
                    
                    <TextBlock Text="Cảm ơn quý khách!" FontStyle="Italic" 
                               HorizontalAlignment="Center" Foreground="Gray"/>
                </StackPanel>
            </Border>

            <Grid Grid.Row="2" Margin="20,0,20,15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <Button Grid.Column="0" Content="HỦY" 
                        Style="{StaticResource MaterialDesignRaisedLightButton}"
                        Width="100"
                        Foreground="White"
                        materialDesign:ButtonAssist.CornerRadius="5"
                        Command="{Binding CloseCommand}"
                        CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"/>

                <Button Grid.Column="2" Content="IN HÓA ĐƠN" 
                        Style="{StaticResource MaterialDesignRaisedLightButton}"
                        materialDesign:ButtonAssist.CornerRadius="5"
                        Width="120" Background="#1976D2" Foreground="White"
                        Command="{Binding PrintCommand}"
                        CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"/>

                <Button Grid.Column="4" Content="XÁC NHẬN" 
                        Style="{StaticResource MaterialDesignRaisedSecondaryButton}"
                        Width="110" Foreground="White" Background="#209757"
                         FontSize="14" FontWeight="Bold"
                        materialDesign:ButtonAssist.CornerRadius="5"
                        Command="{Binding ConfirmCommand}"
                        CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"/>
            </Grid>
        </Grid>
    </Border>
</Window>
